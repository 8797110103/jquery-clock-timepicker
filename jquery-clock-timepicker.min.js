!function(e){e.fn.clockTimePicker=function(t,o){function a(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}function r(e,t,o){var i="^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$";new RegExp(i,"i").test(e);var a=60*parseInt(RegExp.$2);RegExp.$4&&!o&&(a+=parseInt(RegExp.$4)),"-"==RegExp.$1&&(a*=-1),new RegExp(i,"i").test(t);var r=60*parseInt(RegExp.$2);return RegExp.$4&&!o&&(r+=parseInt(RegExp.$4)),"-"==RegExp.$1&&(r*=-1),a<=r}function n(){c.precision=parseInt(c.precision),c.modeSwitchSpeed=parseInt(c.modeSwitchSpeed),c.popupWidthOnDesktop=parseInt(c.popupWidthOnDesktop),c.fonts.clockOuterCircleFontSize=parseInt(c.fonts.clockOuterCircleFontSize),c.fonts.clockInnerCircleFontSize=parseInt(c.fonts.clockInnerCircleFontSize),c.fonts.buttonFontSize=parseInt(c.fonts.buttonFontSize),1!=c.precision&&5!=c.precision&&10!=c.precision&&15!=c.precision&&30!=c.precision&&60!=c.precision&&(console.error("%c[jquery-clock-timepicker] Invalid precision specified: "+c.precision+"! Precision has to be 1, 5, 10, 15, 30 or 60. For now, the precision has been set back to: 1","color:orange"),c.precision=1),c.separator&&!(""+c.separator).match(/[0-9]+/)||(console.error("%c[jquery-clock-timepicker] Invalid separator specified: "+(c.separator?c.separator:"(empty)")+"! The separator cannot be empty nor can it contain any decimals. For now, the separator has been set back to a colon (:).","color:orange"),c.separator=":"),c.durationNegative&&!c.duration&&console.log("%c[jquery-clock-timepicker] durationNegative is set to true, but this has no effect because duration is false!","color:orange"),c.maximum&&!c.maximum.match(/^-?[0-9]+:[0-9]{2}$/)&&(console.log('%c[jquery-clock-timepicker] Invalid time format for option "maximum": '+c.maximum+"! Maximum not used...","color:orange"),c.maximum=null),c.minimum&&!c.minimum.match(/^-?[0-9]+:[0-9]{2}$/)&&(console.log('%c[jquery-clock-timepicker] Invalid time format for option "minimum": '+c.minimum+"! Minimum not used...","color:orange"),c.minimum=null),!c.minimum||!c.maximum||c.minimum!=c.maximum&&r(c.minimum,c.maximum)||(console.log('%c[jquery-clock-timepicker] Option "minimum" must be smaller than the option "maximum"!',"color:orange"),c.minimum=null)}var c=e.extend(!0,{afternoonHoursInOuterCircle:!1,autosize:!1,colors:{buttonTextColor:"#0797FF",clockFaceColor:"#EEEEEE",clockInnerCircleTextColor:"#888888",clockInnerCircleUnselectableTextColor:"#CCCCCC",clockOuterCircleTextColor:"#000000",clockOuterCircleUnselectableTextColor:"#CCCCCC",hoverCircleColor:"#DDDDDD",popupBackgroundColor:"#FFFFFF",popupHeaderBackgroundColor:"#0797FF",popupHeaderTextColor:"#FFFFFF",selectorColor:"#0797FF",selectorNumberColor:"#FFFFFF",signButtonColor:"#FFFFFF",signButtonBackgroundColor:"#0797FF"},duration:!1,durationNegative:!1,fonts:{fontFamily:"Arial",clockOuterCircleFontSize:14,clockInnerCircleFontSize:12,buttonFontFamily:"Arial",buttonFontSize:20,inputFontFamily:"Arial"},hideUnselectableNumbers:!1,i18n:{okButton:"OK",cancelButton:"Cancel"},maximum:"23:59",minimum:"-23:59",modeSwitchSpeed:500,onlyShowClockOnMobile:!1,onAdjust:function(e,t){},onChange:function(e,t){},onClose:function(){},onModeSwitch:function(){},onOpen:function(){},popupWidthOnDesktop:200,precision:1,required:!1,separator:":",useAmPm:!1,useDurationPlusSign:!1,vibrate:!0},"object"==typeof t?t:{}),s=".clock-timepicker input { caret-color: white; }";if(a()&&(s+=" .clock-timepicker input::selection { background:rgba(255,255,255,0.6); } .clock-timepicker input::-moz-selection { background:rgba(255,255,255,0.6); }"),!function(){var t=!1;return e("head style").each(function(){if(e(this).text()==s)return t=!0,!1}),!!t}()){var l=document.createElement("style");l.type="text/css",l.styleSheet?l.styleSheet.cssText=s:l.appendChild(document.createTextNode(s)),(document.head||document.getElementsByTagName("head")[0]).appendChild(l)}return this.each(function(){function s(e){e.preventDefault()}function l(e){return e.preventDefault(),e.stopImmediatePropagation(),"HOUR"==B?P():E(),!1}function m(e){e.preventDefault()}function p(e){return e.stopImmediatePropagation(),"HOUR"==B?P():E(),!1}function u(t){"none"==te.css("display")||e(t.target)[0]==oe[0]||e.contains(oe.parent()[0],e(t.target)[0])||I()}function d(){if(e(document.activeElement).parents(".clock-timepicker").length){var t=document.createElement("input");D.parent().get(0).appendChild(t),t.focus(),D.parent().get(0).removeChild(t)}}function f(t){a()?(t.on("touchstart",function(t){t.preventDefault();var o=t.originalEvent.touches[0].pageX-e(this).offset().left,i=t.originalEvent.touches[0].pageY-e(this).offset().top,a=Math.sqrt(Math.pow(Math.abs(o-_),2)+Math.pow(Math.abs(i-Q),2));if(c.duration&&c.durationNegative&&a<=20){K=!0;var n=oe.val();return n.match(/^-/)?newVal=n.substring(1):newVal="-"+n.replace(/^(-|\+)/,""),c.minimum&&!r(c.minimum,newVal)&&(newVal=F(c.minimum)),c.maximum&&!r(newVal,c.maximum)&&(newVal=F(c.maximum)),oe.val(F(newVal)),k(),c.onAdjust.call(D.get(0),newVal.replace(/^\+/,""),n.replace(/^\+/,"")),void("HOUR"==B?P():E())}v(o,i),V=!0}),t.on("touchend",function(e){e.preventDefault(),V=!1,K||60==c.precision||(T(),E()),K=!1}),t.on("touchmove",function(t){if(t.preventDefault(),V){v(t.originalEvent.touches[0].pageX-e(this).offset().left,t.originalEvent.touches[0].pageY-e(this).offset().top)}})):(t.on("mousedown",function(t){v(t.pageX-e(this).offset().left,t.pageY-e(this).offset().top),V=!0}),t.on("mouseup",function(t){V=!1;var o=t.pageX-e(this).offset().left,i=t.pageY-e(this).offset().top,a=Math.sqrt(Math.pow(Math.abs(o-_),2)+Math.pow(Math.abs(i-Q),2));if(c.duration&&c.durationNegative&&a<=20){var n=oe.val();return n.match(/^-/)?newVal=n.substring(1):newVal="-"+n.replace(/^(-|\+)/,""),c.minimum&&!r(c.minimum,newVal)&&(newVal=F(c.minimum)),c.maximum&&!r(newVal,c.maximum)&&(newVal=F(c.maximum)),oe.val(F(newVal)),k(),c.onAdjust.call(D.get(0),newVal.replace(/^\+/,""),n.replace(/^\+/,"")),void("HOUR"==B?P():E())}if(!v(o,i,!0))return 60==c.precision?I():"HOUR"==B?(T(),E()):I(),!1;"MINUTE"==B||60==c.precision?I():(T(),E())}),t.on("mousemove",function(t){v(t.pageX-e(this).offset().left,t.pageY-e(this).offset().top)}),t.on("mouseleave",function(e){"HOUR"==B?y():C()}),t.on("mousewheel",function(e){g(e)})),t.on("keydown",function(e){e.preventDefault(),v(),M(),P(),q=oe.val()})}function h(e){var t="none"!=te.css("display");if(oe.val())if(60==c.precision)M(!t),P();else{var o=oe.css("direction");o||(o="ltr");var i=oe.css("text-align");i||(i="left");var a=oe.innerWidth(),r=parseFloat(oe.css("padding-left")),n=parseFloat(oe.css("padding-right")),s=a-r-n;Z.css("display","inline-block"),Z.html(oe.val());var l=Z.innerWidth();Z.html(c.separator);var m=Z.innerWidth()/2;Z.html(oe.val().replace(new RegExp(c.separator+"[0-9]+$"),"")),m+=Z.innerWidth(),Z.css("display","none");var p=a/2;"left"==i||"justify"==i||"ltr"==o&&"start"==i||"rtl"==o&&"end"==i?p=Math.floor(r+m):"center"==i?p=Math.floor(r+(s-l)/2+m):("right"==i||"ltr"==o&&"end"==i||"rtl"==o&&"start"==i)&&(p=Math.floor(r+s-(l-m))),e.offsetX>=p-2?("HOUR"==B&&c.vibrate&&navigator.vibrate(10),T(!t),E()):("MINUTE"==B&&c.vibrate&&navigator.vibrate(10),M(!t),P())}else oe.val(F("00:00")),M(!t),P();t||w()}function g(e){var t=window.event||e;e.preventDefault();var o=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$").test(oe.val());var i=!(!c.duration||!c.durationNegative||"-"!=RegExp.$1),a=parseInt(RegExp.$2);i&&(a=-a);var n=RegExp.$4?parseInt(RegExp.$4):0;"HOUR"==B?(c.duration&&c.durationNegative&&0==a&&!i&&-1==o?i=!0:c.duration&&c.durationNegative&&0==a&&i&&1==o?i=!1:a+=o,-1==a&&(c.duration?c.durationNegative||(a=0):a=23),24!=a||c.duration||(a=0)):(n+=o*c.precision,n<0&&(n=60+n),n>=60&&(n-=60));var s=oe.val(),l=(a<10&&!c.duration?"0":"")+(i&&0==a?"-"+a:a)+c.separator+(n<10?"0":"")+n,m=!0;c.maximum&&!r(l,c.maximum)&&(m=!1),c.minimum&&!r(c.minimum,l)&&(m=!1),m||"HOUR"!=B||(l=F(o>0?c.maximum:c.minimum),m=!0),m&&(oe.val(F(l)),O(),k(),"HOUR"==B?P():E(),l!=s&&c.onAdjust.call(D.get(0),l.replace(/^\+/,""),s.replace(/^\+/,"")))}function v(e,t,o){var i=360*Math.atan((t-Q)/(e-_))/(2*Math.PI)+90,a=Math.sqrt(Math.pow(Math.abs(e-_),2)+Math.pow(Math.abs(t-Q),2)),n=0,s=0,l=!1;if(new RegExp("^(-|\\+)?([0-9]+).([0-9]{2})$").test(oe.val())&&(l=!(!c.duration||!c.durationNegative||"-"!=RegExp.$1),n=parseInt(RegExp.$2),s=parseInt(RegExp.$3)),"HOUR"==B){i=Math.round(i/30);var m=-1;if(a<L+10&&a>L-28?e-_>=0?m=0==i?12:i:e-_<0&&(m=i+6):a<L-28&&a>L-65&&(e-_>=0?m=0!=i?i+12:0:e-_<0&&24==(m=i+18)&&(m=0)),c.afternoonHoursInOuterCircle&&(m+=m>=12?-12:12),m>-1){var p=(l?"-":"")+(m<10&&!c.duration?"0":"")+m+c.separator+(s<10?"0":"")+s;if(V||o){var u=!0;if(c.maximum&&!r(p,c.maximum)&&(u=!1),c.minimum&&!r(c.minimum,p)&&(u=!1),u||(c.maximum&&r((l?"-":"")+(m<10&&!c.duration?"0":"")+m+c.separator+"00",c.maximum)&&(p=F(c.maximum),u=!0),c.minimum&&!r(c.minimum,(l?"-":"")+(m<10&&!c.duration?"0":"")+m+c.separator+"00")&&(p=F(c.minimum),u=!0)),u){var d=oe.val();p!=d&&(c.vibrate&&navigator.vibrate(10),c.onAdjust.call(D.get(0),p.replace(/^\+/,""),d.replace(/^\+/,""))),oe.val(F(p)),O()}}return y(0==m?24:m,c.duration&&c.durationNegative&&a<=12),!0}return y(null,c.duration&&c.durationNegative&&a<=12),!1}if("MINUTE"==B){i=Math.round(i/6);var f=-1;if(a<L+10&&a>L-40&&(e-_>=0?f=i:e-_<0&&60==(f=i+30)&&(f=0)),f>-1){if(1!=c.precision){var h=Math.floor(f/c.precision);f=h*c.precision+(1==Math.round((f-h*c.precision)/c.precision)?c.precision:0),f>=60&&(f=0)}var p=(l?"-":"")+(n<10&&!c.duration?"0":"")+n+c.separator+(f<10?"0":"")+f,u=!0;if(c.maximum&&!r(p,c.maximum)&&(u=!1),c.minimum&&!r(c.minimum,p)&&(u=!1),(V||o)&&u){var d=oe.val();p!=d&&(c.vibrate&&navigator.vibrate(10),c.onAdjust.call(D.get(0),p.replace(/^\+/,""),d.replace(/^\+/,""))),oe.val(F(p))}return C(0==f?60:f,c.duration&&c.durationNegative&&a<=12),!0}return C(null,c.duration&&c.durationNegative&&a<=12),!1}}function k(){"HOUR"==B?y():C()}function x(e,t){e.beginPath(),e.arc(_,Q,12,0,2*Math.PI,!1),e.fillStyle=c.colors.signButtonBackgroundColor,e.fill(),t&&(e.beginPath(),e.arc(_,Q,14,0,2*Math.PI,!1),e.strokeStyle=c.colors.signButtonBackgroundColor,e.stroke()),e.beginPath(),e.moveTo(_-6,Q),e.lineTo(_+6,Q),e.lineWidth=2,e.strokeStyle=c.colors.signButtonColor,e.stroke(),oe.val().match(/^-/)||(e.beginPath(),e.moveTo(_,Q-6),e.lineTo(_,Q+6),e.lineWidth=2,e.strokeStyle=c.colors.signButtonColor,e.stroke())}function y(e,t){var o=ae.get(0).getContext("2d");new RegExp("^(-|\\+)?([0-9]+).([0-9]{1,2})$").test(oe.val());var n="-"==RegExp.$1,s=parseInt(RegExp.$2);if(o.clearRect(0,0,Y,Y),s>=24)return void te.css("visibility","hidden");if(c.onlyShowClockOnMobile||te.css("visibility","visible"),0==s&&(s=24),oe.val()||(s=-1),o.beginPath(),o.arc(_,Q,L,0,2*Math.PI,!1),o.fillStyle=c.colors.clockFaceColor,o.fill(),!a()&&e){var l=!0;c.maximum&&!r((n?"-":"")+(24==e?"00":e)+":00",c.maximum)&&(l=!1),c.minimum&&!r(c.minimum,(n?"-":"")+(24==e?"00":e)+":00",!0)&&(l=!1),l&&(o.beginPath(),o.arc(_+Math.cos(Math.PI/6*(e%12-3))*(e>12?c.afternoonHoursInOuterCircle?G:J:c.afternoonHoursInOuterCircle?J:G),Q+Math.sin(Math.PI/6*(e%12-3))*(e>12?c.afternoonHoursInOuterCircle?G:J:c.afternoonHoursInOuterCircle?J:G),15,0,2*Math.PI,!1),o.fillStyle=c.colors.hoverCircleColor,o.fill())}for(o.beginPath(),o.arc(_,Q,3,0,2*Math.PI,!1),o.fillStyle=c.colors.selectorColor,o.fill(),s>-1&&(!c.maximum||24==s||r(s,c.maximum))&&(o.beginPath(),o.moveTo(_,Q),o.lineTo(_+Math.cos(Math.PI/6*(s%12-3))*(s>12?c.afternoonHoursInOuterCircle?G:J:c.afternoonHoursInOuterCircle?J:G),Q+Math.sin(Math.PI/6*(s%12-3))*(s>12?c.afternoonHoursInOuterCircle?G:J:c.afternoonHoursInOuterCircle?J:G)),o.lineWidth=1,o.strokeStyle=c.colors.selectorColor,o.stroke(),o.beginPath(),o.arc(_+Math.cos(Math.PI/6*(s%12-3))*(s>12?c.afternoonHoursInOuterCircle?G:J:c.afternoonHoursInOuterCircle?J:G),Q+Math.sin(Math.PI/6*(s%12-3))*(s>12?c.afternoonHoursInOuterCircle?G:J:c.afternoonHoursInOuterCircle?J:G),15,0,2*Math.PI,!1),o.fillStyle=c.colors.selectorColor,o.fill()),o.font=c.fonts.clockOuterCircleFontSize+"px "+c.fonts.fontFamily,i=1;i<=12;i++){var m=Math.PI/6*(i-3),p=i;c.afternoonHoursInOuterCircle?(p=i+12,s==i+12?o.fillStyle=c.colors.selectorNumberColor:o.fillStyle=c.colors.clockInnerCircleTextColor,24==p&&(p="00")):s==i?o.fillStyle=c.colors.selectorNumberColor:o.fillStyle=c.colors.clockOuterCircleTextColor,c.maximum&&!r((n?"-":"")+p+":00",c.maximum)||c.minimum&&!r(c.minimum,(n?"-":"")+p+":00",!0)?c.hideUnselectableNumbers||(o.fillStyle=c.colors.clockOuterCircleUnselectableTextColor,o.fillText(p,_+Math.cos(m)*G-o.measureText(p).width/2,Q+Math.sin(m)*G+c.fonts.clockOuterCircleFontSize/3)):o.fillText(p,_+Math.cos(m)*G-o.measureText(p).width/2,Q+Math.sin(m)*G+c.fonts.clockOuterCircleFontSize/3)}for(o.font=c.fonts.clockInnerCircleFontSize+"px "+c.fonts.fontFamily,i=1;i<=12;i++){var m=Math.PI/6*(i-3),p=i;c.afternoonHoursInOuterCircle?s==i?o.fillStyle=c.colors.selectorNumberColor:o.fillStyle=c.colors.clockOuterCircleTextColor:(p=i+12,s==i+12?o.fillStyle=c.colors.selectorNumberColor:o.fillStyle=c.colors.clockInnerCircleTextColor,24==p&&(p="00")),c.maximum&&!r((n?"-":"")+p+":00",c.maximum)||c.minimum&&!r(c.minimum,(n?"-":"")+p+":00",!0)?c.hideUnselectableNumbers||(o.fillStyle=c.colors.clockInnerCircleUnselectableTextColor,o.fillText(p,_+Math.cos(m)*J-o.measureText(p).width/2,Q+Math.sin(m)*J+c.fonts.clockInnerCircleFontSize/3)):o.fillText(p,_+Math.cos(m)*J-o.measureText(p).width/2,Q+Math.sin(m)*J+c.fonts.clockInnerCircleFontSize/3)}c.duration&&c.durationNegative&&x(o,t)}function C(e,t){var o=re.get(0).getContext("2d");new RegExp("^(-|\\+)?([0-9]+).([0-9]{1,2})$").test(oe.val());var n="-"==RegExp.$1,s=parseInt(RegExp.$2),l=parseInt(RegExp.$3);if(oe.val()||(l=-1),c.onlyShowClockOnMobile||te.css("visibility","visible"),o.clearRect(0,0,Y,Y),o.beginPath(),o.arc(_,Q,L,0,2*Math.PI,!1),o.fillStyle=c.colors.clockFaceColor,o.fill(),!a()&&e){60==e&&(e=0);var m=!0;c.maximum&&!r((n?"-":"")+s+":"+(e<10?"0":"")+e,c.maximum)&&(m=!1),c.minimum&&!r(c.minimum,(n?"-":"")+s+":"+(e<10?"0":"")+e)&&(m=!1),m&&(o.beginPath(),o.arc(_+Math.cos(Math.PI/6*(e/5-3))*G,Q+Math.sin(Math.PI/6*(e/5-3))*G,15,0,2*Math.PI,!1),o.fillStyle=c.colors.hoverCircleColor,o.fill())}for(o.beginPath(),o.arc(_,Q,3,0,2*Math.PI,!1),o.fillStyle=c.colors.selectorColor,o.fill(),!(l>-1)||c.maximum&&!r(s+":"+l,c.maximum)||c.minimum&&!r(c.minimum,s+":"+l)||(o.beginPath(),o.moveTo(_,Q),o.lineTo(_+Math.cos(Math.PI/6*(l/5-3))*G,Q+Math.sin(Math.PI/6*(l/5-3))*G),o.lineWidth=1,o.strokeStyle=c.colors.selectorColor,o.stroke(),o.beginPath(),o.arc(_+Math.cos(Math.PI/6*(l/5-3))*G,Q+Math.sin(Math.PI/6*(l/5-3))*G,15,0,2*Math.PI,!1),o.fillStyle=c.colors.selectorColor,o.fill()),o.font=c.fonts.clockOuterCircleFontSize+"px "+c.fonts.fontFamily,i=1;i<=12;i++)if(Math.floor(5*i/c.precision)==5*i/c.precision){var p=Math.PI/6*(i-3);l==5*i||0==l&&12==i?o.fillStyle=c.colors.selectorNumberColor:o.fillStyle=c.colors.clockOuterCircleTextColor;var u=5*i==5?"05":5*i;60==u&&(u="00");var m=!0;c.maximum&&!r((n?"-":"")+s+":"+u,c.maximum)&&(m=!1),c.minimum&&!r(c.minimum,(n?"-":"")+s+":"+u)&&(m=!1),m?o.fillText(u,_+Math.cos(p)*G-o.measureText(u).width/2,Q+Math.sin(p)*G+c.fonts.clockOuterCircleFontSize/3):c.hideUnselectableNumbers||(o.fillStyle=c.colors.clockOuterCircleUnselectableTextColor,o.fillText(u,_+Math.cos(p)*G-o.measureText(u).width/2,Q+Math.sin(p)*G+c.fonts.clockOuterCircleFontSize/3))}l>-1&&l%5!=0&&(o.beginPath(),o.arc(_+Math.cos(Math.PI/6*(l/5-3))*G,Q+Math.sin(Math.PI/6*(l/5-3))*G,2,0,2*Math.PI,!1),o.fillStyle="white",o.fill()),c.duration&&c.durationNegative&&x(o,t)}function b(){var t;window.innerHeight<400?(X=window.innerHeight-60,te.css("width",X+200+"px"),oe.css("position","absolute").css("left","0px").css("top","0px").css("width","200px").css("height",X+20+"px"),ie.css("margin","10px 25px 0px 230px"),t=X+parseInt(ie.css("margin-top"))+parseInt(ie.css("margin-bottom"))):(X=window.innerWidth-80,X>300&&(X=300),te.css("width",X+"px"),oe.css("position","static").css("width","100%").css("height","auto"),ie.css("margin","10px 25px 10px 25px"),t=X+parseInt(ie.css("margin-top"))+parseInt(ie.css("margin-bottom"))+65),te.css("left",parseInt((e("body").prop("clientWidth")-te.outerWidth())/2)+"px"),te.css("top",parseInt((window.innerHeight-t)/2)+"px"),Y=X-50,L=parseInt(Y/2),_=parseInt(Y/2),Q=parseInt(Y/2),G=L-16,J=G-29,ie.css("width",Y+"px"),ie.css("height",Y+"px"),ae.attr("width",Y),ae.attr("height",Y),re.attr("width",Y),re.attr("height",Y)}function w(){if(D.val()?oe.val(F(D.val())):oe.val(F("00:00")),!a()&&c.onlyShowClockOnMobile&&te.css("visibility","hidden"),a()&&b(),te.css("display","block"),k(),a())ee.stop().css("opacity",0).css("display","block").animate({opacity:1},300);else{if(te.outerWidth()>D.outerWidth()){var t=parseInt((te.outerWidth()-D.outerWidth())/2);t<D.offset().left&&te.css("left",-t+"px")}var o=D.offset().top-e(window).scrollTop(),i=window.innerHeight-o-D.outerHeight();i<te.outerHeight()&&D.offset().top>te.outerHeight()?o<te.outerHeight()?o>i+D.outerHeight()?te.css("top",-te.outerHeight()+parseInt(D.css("marginTop"))+"px"):te.css("top",parseInt(D.css("marginTop"))+D.outerHeight()+"px"):te.css("top",-te.outerHeight()+parseInt(D.css("marginTop"))+"px"):te.css("top",parseInt(D.css("marginTop"))+D.outerHeight()+"px")}c.onOpen.call(D.get(0))}function I(){var e=F(D.val());if(W="",te.css("display","none"),a()?ee.stop().animate({opacity:0},300,function(){ee.css("display","none")}):D.val(e),d(),!q&&e.match(new RegExp("^0+"+c.separator+"00$")))oe.val("");else if(q!=e){if("createEvent"in document){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),D.get(0).dispatchEvent(t)}else{var t=document.createEventObject();t.eventType="click",D.get(0).fireEvent("onchange",t)}c.onChange.call(D.get(0),e.replace(/^\+/,""),q.replace(/^\+/,"")),q=e}c.onClose.call(D.get(0))}function M(e){"HOUR"!=B&&(W="",y(),e?re.css("display","none"):re.css("zIndex",2).stop().animate({opacity:0,zoom:"80%",left:"10%",top:"10%"},c.modeSwitchSpeed,function(){re.css("display","none")}),ae.stop().css("zoom","100%").css("left","0px").css("top","0px").css("display","block").css("opacity",1).css("zIndex",1),B="HOUR",c.onModeSwitch.call(D.get(0),B))}function T(e){"MINUTE"!=B&&(W="",C(),re.stop().css("display","block").css("zoom","80%").css("left","10%").css("top","10%").css("opacity",0).css("zIndex",1),e?re.css("opacity",1).css("zoom","100%").css("left","0px").css("top","0px"):re.animate({opacity:1,zoom:"100%",left:"0px",top:"0px"}),B="MINUTE",c.onModeSwitch.call(D.get(0),B))}function P(){oe.focus(),setTimeout(function(){oe.get(0).setSelectionRange(0,oe.val().indexOf(c.separator))},1)}function E(){oe.focus(),setTimeout(function(){oe.get(0).setSelectionRange(oe.val().indexOf(c.separator)+1,oe.val().length)},1)}function O(){c.autosize&&!a()&&(Z.html(D.val()),Z.css("display","inline-block"),D.css("width",Z.outerWidth()+5+parseInt(D.css("padding-left"))+parseInt(D.css("padding-right"))+"px"),Z.css("display","none"))}function F(e){if(""==e)return c.required?c.duration?"0:00":"00:00":e;if(new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2})?)?$","i").test(e)){var t=parseInt(RegExp.$2),o=parseInt(RegExp.$4);o||(o=0);var i=!(!c.duration||!c.durationNegative||"-"!=RegExp.$1);if(t>=24&&!c.duration&&(t%=24),o>=60&&(o%=60),1!=c.precision){var a=Math.floor(o/c.precision);o=a*c.precision+(1==Math.round((o-a*c.precision)/c.precision)?c.precision:0),o>=60&&(o=0)}e=(i?"-":"")+(t<10&&!c.duration?"0":"")+t+c.separator+(RegExp.$3?(o<10?"0":"")+o:"00")}else if(new RegExp("^(-|\\+)?.([0-9]{1,2})").test(e)){var o=parseInt(RegExp.$2),i=!(!c.duration||!c.durationNegative||"-"!=RegExp.$1);o>=60&&(o%=60),e=(i&&o>0?"-":"")+"0"+(c.duration?"":"0")+c.separator+(o<10?"0":"")+o}else e="0"+(c.duration?"":"0")+c.separator+"00";return(c.duration&&c.useDurationPlusSign&&!e.match(/^\-/)&&!e.match(/^0+:00$/)?"+":"")+e}function R(e){e.parent().find(".clock-timepicker-autosize").remove(),e.parent().find(".clock-timepicker-background").remove(),e.parent().find(".clock-timepicker-popup").remove(),e.unwrap(),e.off("drag.clockTimePicker dragend.clockTimePicker dragover.clockTimePicker dragenter.clockTimePicker dragstart.clockTimePicker dragleave.clockTimePicker drop.clockTimePicker selectstart.clockTimePicker contextmenu.clockTimePicker"),e.off("mousedown.clockTimePicker"),e.off("keyup.clockTimePicker"),e.off("keydown.clockTimePicker"),e.off("mousewheel.clockTimePicker"),e.off("focus.clockTimePicker"),e.attr("data-autocomplete-orig")?(e.attr("autocomplete",e.attr("data-autocomplete-orig")),e.removeAttr("data-autocomplete-orig")):e.removeAttr("autocomplete"),e.attr("data-autocorrect-orig")?(e.attr("autocorrect",e.attr("data-autocorrect-orig")),e.removeAttr("data-autocorrect-orig")):e.removeAttr("autocorrect"),e.attr("data-autocapitalize-orig")?(e.attr("autocapitalize",e.attr("data-autocapitalize-orig")),e.removeAttr("data-autocapitalize-orig")):e.removeAttr("autocapitalize"),e.attr("data-spellcheck-orig")?(e.attr("spellcheck",e.attr("data-spellcheck-orig")),e.removeAttr("data-spellcheck-orig")):e.removeAttr("spellcheck")}function S(e){D.is(":focus")&&g(e)}function z(e){a()?(w(),M(!0),P()):setTimeout(function(){"none"==te.css("display")&&$(e)},50)}function H(e){return e.stopImmediatePropagation(),e.preventDefault(),!1}function $(e){return h(e),e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),!1}function N(e){if(9==e.keyCode)I();else if(13==e.keyCode)I();else if(27==e.keyCode)oe.val(F(q)),I();else if(8==e.keyCode||46==e.keyCode){if(W="",!oe.val())return!1;var t,o=oe.val();e.preventDefault(),new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$").test(oe.val());var i=!(!c.duration||!c.durationNegative||"-"!=RegExp.$1),a=parseInt(RegExp.$2),n=RegExp.$4?parseInt(RegExp.$4):0;"HOUR"==B?(t=0==a?c.required?(c.duration?"":"0")+"0"+c.separator+"00":"":(c.duration?"":"0")+"0"+c.separator+(n<10?"0":"")+n,oe.val(F(t)),t?P():I(),o!=t&&c.onAdjust.call(D.get(0),t.replace(/^\+/,""),o.replace(/^\+/,""))):0==n?0!=a||c.required?(M(),P()):(oe.val(""),""!=o&&c.onAdjust.call(D.get(0),"",o.replace(/^\+/,"")),I()):(t=(i?"-":"")+(a<10&&!c.duration?"0":"")+a+c.separator+"00",oe.val(F(t)),E(),o!=t&&c.onAdjust.call(D.get(0),t.replace(/^\+/,""),o.replace(/^\+/,""))),O()}else if(36!=e.keyCode&&37!=e.keyCode||""==oe.val())if(35!=e.keyCode&&39!=e.keyCode||""==oe.val())if(190==e.keyCode||e.key==c.separator)e.preventDefault(),0==oe.val().length&&oe.val("0"),oe.val(F(oe.val())),60!=c.precision?(E(),"MINUTE"!=B&&T()):P();else{if(!(38==e.keyCode||40==e.keyCode||107==e.keyCode||109==e.keyCode||189==e.keyCode||e.shiftKey&&49==e.keyCode))return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1;if(e.preventDefault(),""==q)return;var o=oe.val();new RegExp("^(-|\\+)?([0-9]+)(.([0-9]{1,2}))?$").test(oe.val());var i=!(!c.duration||!c.durationNegative||"-"!=RegExp.$1),a=parseInt(RegExp.$2);i&&(a=-a);var n=RegExp.$4?parseInt(RegExp.$4):0;c.duration&&c.durationNegative&&(107==e.keyCode||109==e.keyCode||189==e.keyCode||e.shiftKey&&49==e.keyCode)?(107==e.keyCode||49==e.keyCode?(a<0&&(a=-a),i=!1):(a>0&&(a=-a),i=!0),W=""):"HOUR"==B?(38==e.keyCode||107==e.keyCode||49==e.keyCode?c.duration&&c.durationNegative&&0==a&&i?i=!1:a+=1:c.duration&&c.durationNegative&&0==a&&!i?i=!0:a-=1,-1==a&&(c.duration?c.durationNegative||(a=0):a=23),24!=a||c.duration||(a=0)):(38==e.keyCode||109==e.keyCode||189==e.keyCode?n-=c.precision:n+=c.precision,n<0&&(n=60+n),n>=60&&(n-=60));var t=(a<10&&!c.duration?"0":"")+(i&&0==a?"-"+a:a)+c.separator+(n<10?"0":"")+n,s=!0;c.maximum&&!r(t,c.maximum)&&(s=!1),c.minimum&&!r(c.minimum,t)&&(s=!1),s||"HOUR"!=B||(t=F(38==e.keyCode?c.maximum:c.minimum),s=!0),s&&(oe.val(F(t)),t!=o&&c.onAdjust.call(D.get(0),t.replace(/^\+/,""),o.replace(/^\+/,"")),O(),k(),"HOUR"==B?P():E())}else oe.val(F(oe.val())),60!=c.precision&&"MINUTE"!=B?(E(),T()):(e.preventDefault(),e.stopPropagation());else oe.val(F(oe.val())),"HOUR"!=B?(P(),M()):(e.preventDefault(),e.stopPropagation())}function U(e){if((e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105)&&!e.shiftKey&&!e.ctrlKey&&!e.altKey){var t,o=oe.val().replace(/.[0-9]+$/,""),i=oe.val().replace(/^(\+|-)?[0-9]+./,""),a="-"==oe.val()[0],n=oe.val();if(""==W)if(W=e.key,"HOUR"==B){t=F((a?"-":"")+(c.duration?"":"0")+e.key+c.separator+i),c.maximum&&(r(t,c.maximum)?r((a?"-":"")+W+"0"+c.separator+i,c.maximum)||(s=!0):(t=c.maximum.substring(0,c.maximum.indexOf(":"))+c.separator+i,r(t,c.maximum)||(t=c.maximum),t=F(t),s=!0)),c.minimum&&(r(c.minimum,t)?r(c.minimum,(a?"-":"")+W+"0"+c.separator+i)||(s=!0):(t=c.minimum.substring(0,c.minimum.indexOf(":"))+c.separator+i,r(c.minimum,t)||(t=c.minimum),t=F(t),s=!0)),oe.val(F(t));var s=!c.duration&&parseInt(e.key)>2||c.maximum&&!r((a?"-":"")+parseInt(e.key)+"0:00",c.maximum)||c.minimum&&!r(c.minimum,(a?"-":"")+parseInt(e.key)+"0:00");s?(W="",60==c.precision?I():(T(),E())):P()}else parseInt(e.key)>5?(t=F(o+c.separator+"0"+e.key),c.maximum&&!r(t,c.maximum)?(t=F(c.maximum),oe.val(t),W=""):c.minimum&&!r(c.minimum,t)?(t=F(c.minimum),oe.val(t),W=""):(oe.val(t),I())):(t=F(o+c.separator+e.key+"0"),c.maximum&&!r(t,c.maximum)&&(t=F(c.maximum),W=""),c.minimum&&!r(c.minimum,t)&&(t=F(c.minimum),W=""),oe.val(t),E());else if(c.duration)if("0"==W&&(W=""),"MINUTE"==B)t=F(o+c.separator+W+e.key),c.maximum&&!r(t,c.maximum)?(t=F(c.maximum),oe.val(t),W=""):c.minimum&&!r(c.minimum,t)?(t=F(c.minimum),oe.val(t),W=""):(oe.val(t),I());else{W+=e.key,t=(a?"-":"")+W+c.separator+i;var s=!1;c.maximum&&(r(t,c.maximum)?r((a?"-":"")+W+"0"+c.separator+i,c.maximum)||(s=!0):(t=c.maximum.substring(0,c.maximum.indexOf(":"))+c.separator+i,r(t,c.maximum)||(t=c.maximum),t=F(t),s=!0)),c.minimum&&(r(c.minimum,t)?r(c.minimum,(a?"-":"")+W+"0"+c.separator+i)||(s=!0):(t=c.minimum.substring(0,c.minimum.indexOf(":"))+c.separator+i,r(c.minimum,t)||(t=c.minimum),t=F(t),s=!0)),oe.val(F(t)),s?60==c.precision?I():(T(),E(),W=""):P()}else if("HOUR"==B){var l=parseInt(W+e.key),m="HOUR"==B?24:60;l==m?(W="",t="00"+c.separator+i,oe.val(F(t)),60==c.precision?I():(T(),E())):l>m?(W=e.key,t="0"+W+c.separator+i,oe.val(F(t)),P()):(t=W+e.key+c.separator+i,oe.val(F(t)),60==c.precision?I():(T(),E(),W=""))}else t=o+c.separator+W+e.key,oe.val(F(t)),I();t!=n&&c.onAdjust.call(D.get(0),t.replace(/^\+/,""),n.replace(/^\+/,"")),O()}k()}var D=e(this),j=D.data();for(var A in j)c.hasOwnProperty(A)&&(c[A]=j[A]);if(n(),"vibrate"in navigator||(c.vibrate=!1),"string"!=typeof t){e(this).parent().hasClass("clock-timepicker")&&R(e(this)),D.val(F(D.val())),a()&&D.prop("readonly",!0);var q=D.val(),W="",B="HOUR",V=!1,K=!1,X=a()?e(document).width()-80:c.popupWidthOnDesktop,Y=X-(a()?50:20),L=parseInt(Y/2),_=parseInt(Y/2),Q=parseInt(Y/2),G=L-16,J=G-29;D.wrap('<div class="clock-timepicker" style="display:inline-block; position:relative">');var Z=e('<div class="clock-timepicker-autosize">');Z.css("position","absolute").css("opacity",0).css("display","none").css("top",parseInt(D.css("margin-top"))+"px").css("left","0px").css("font-size",D.css("font-size")).css("font-family",D.css("font-family")).css("font-weight",D.css("font-weight")).css("line-height",D.css("line-height")),D.parent().append(Z),D.css("min-width",D.outerWidth()),O();var ee;a()&&(ee=e('<div class="clock-timepicker-background">'),ee.css("zIndex",99998).css("display","none").css("position","fixed").css("top","0px").css("left","0px").css("width","100%").css("height","100%").css("backgroundColor","rgba(0,0,0,0.6)"),D.parent().append(ee),ee.off("touchmove",s),ee.on("touchmove",s),ee.off("click",l),ee.on("click",l));var te=e('<div class="clock-timepicker-popup">');te.css("display","none").css("zIndex",99999).css("cursor","default").css("position","absolute").css("width",X+"px").css("backgroundColor",c.colors.popupBackgroundColor).css("box-shadow","0 4px 20px 0px rgba(0, 0, 0, 0.14)").css("border-radius","5px").css("overflow","hidden").css("user-select","none"),te.on("contextmenu",function(){return!1}),a()&&(te.css("position","fixed").css("left","40px").css("top","40px"),window.addEventListener("orientationchange",function(){setTimeout(function(){b(),k()},500)}),te.off("touchmove",m),te.on("touchmove",m),te.off("click",p),te.on("click",p)),D.parent().append(te),a()||(e(window).off("click",u),e(window).on("click",u));var oe=D;a()&&(oe=e('<input class="clock-timepicker-mobile-input" type="text">'),oe.css("display","inline-block").css("width","100%").css("border","0px").css("border-radius","0px").css("outline","0px").css("fontSize",a()?"40px":"20px").css("font-family",c.fonts.inputFontFamily).css("margin","0px").css("padding","10px 0px").css("textAlign","center").css("color",c.colors.popupHeaderTextColor).css("backgroundColor",c.colors.popupHeaderBackgroundColor),oe.prop("readonly",!0),te.append(oe)),D.attr("autocomplete")&&D.attr("data-autocomplete-orig",D.attr("autocomplete")),D.prop("autocomplete","off"),D.attr("autocorrect")&&D.attr("data-autocorrect-orig",D.attr("autocorrect")),D.prop("autocorrect","off"),D.attr("autocapitalize")&&D.attr("data-autocapitalize-orig",D.attr("autocapitalize")),D.prop("autocapitalize","off"),D.attr("spellcheck")&&D.attr("data-spellcheck-orig",D.attr("spellcheck")),D.prop("spellcheck",!1),oe.on("drag.clockTimePicker dragend.clockTimePicker dragover.clockTimePicker dragenter.clockTimePicker dragstart.clockTimePicker dragleave.clockTimePicker drop.clockTimePicker selectstart.clockTimePicker contextmenu.clockTimePicker",H),oe.on("mousedown.clockTimePicker",$),oe.on("keyup.clockTimePicker",U),oe.on("keydown.clockTimePicker",N),D.on("mousewheel.clockTimePicker",S),D.on("focus.clockTimePicker",z);var ie=e("<div>");ie.css("position","relative").css("width",Y+"px").css("height",Y+"px").css("margin","10px "+(a()?25:10)+"px"),te.append(ie);var ae=e('<canvas class="clock-timepicker-hour-canvas">');ae.css("cursor","default").css("position","absolute").css("top","0px").css("left","0px"),ae.attr("width",Y),ae.attr("height",Y),f(ae),ie.append(ae);var re=e('<canvas class="clock-timepicker-minute-canvas">')
;if(re.css("cursor","default").css("position","absolute").css("top","0px").css("left","0px").css("display","none"),re.attr("width",Y),re.attr("height",Y),f(re),ie.append(re),a()){var ne=e("<div>");ne.css("text-align","right").css("padding","15px 30px"),c.fonts.buttonFontFamily=c.fonts.buttonFontFamily.replace(/"/g,"&quot;").replace(/'/g,"&#039;");var ce='<a style="text-decoration:none; color:'+c.colors.buttonTextColor+"; font-family:"+c.fonts.buttonFontFamily+"; font-size:"+c.fonts.buttonFontSize+'px; padding-left:30px">',se=e(ce);se.html(c.i18n.cancelButton),se.on("click",function(){I()}),ne.append(se);var le=e(ce);le.html(c.i18n.okButton),le.on("click",function(){a()&&D.val(oe.val()),c.vibrate&&navigator.vibrate(10),I()}),ne.append(le),te.append(ne)}}else if(e(this).parent().hasClass("clock-timepicker"))if("dispose"==(t=t.toLowerCase()))R(e(this));else if("value"==t){e(this).val(F(o));var me=e(this).parent().find(".clock-timepicker-mobile-input");me.length>0&&me.val(F(o)),e(this).parent().find("canvas:first").trigger("keydown")}else console.log("%c[jquery-clock-timepicker] Invalid option passed to clockTimePicker: "+t,"color:red");else console.log("%c[jquery-clock-timepicker] Before calling a function, please initialize the ClockTimePicker!","color:red")})}}(jQuery);